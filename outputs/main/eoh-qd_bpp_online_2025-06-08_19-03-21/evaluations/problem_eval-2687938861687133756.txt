def priority_v2(item, bins_remain_cap):
  """{This algorithm calculates the priority of each bin by considering both the wasted space if the item is placed in it and the number of items already in the bin.}"""
  priorities = []
  for i, cap in enumerate(bins_remain_cap):
    if item <= cap:
      wasted_space = cap - item
      num_items = 0
      if cap < 1:
          num_items = 1/cap
      else:
          num_items = cap
      priority = 1 / (wasted_space + 0.0001) + num_items  # Avoid division by zero
    else:
      priority = -1
    priorities.append(priority)
  return priority
