
- **Keywords:** inverse‑remaining weighting, random tie‑breaker, lean code, benchmark.  
- **Advice:** Apply 1/(remaining) weights, calibrate weighting to prioritize tight fits, add minimal random jitter to break ties, keep the implementation simple, run performance tests.  
- **Avoid:** Heavy softmax/sigmoid, explicit -inf masks, complex numeric tricks, duplicate logic.  
- **Explanation:** The inverse‑remaining method gives tighter fits with low cost; randomness removes deterministic bias; simplicity aids maintenance; benchmarks confirm gains.